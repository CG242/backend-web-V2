# Configuration de production pour le système enrichi d'érosion côtière
# Copiez ce fichier vers .env.production et configurez-le selon votre environnement

# ============================================================================
# CONFIGURATION DJANGO
# ============================================================================

# Clé secrète Django (GÉNÉREZ UNE NOUVELLE CLÉ POUR LA PRODUCTION !)
SECRET_KEY=votre-cle-secrete-production-tres-longue-et-complexe-ici

# Mode de production
DEBUG=False

# Hôtes autorisés (ajoutez votre domaine de production)
ALLOWED_HOSTS=votre-domaine.com,www.votre-domaine.com,127.0.0.1,localhost

# ============================================================================
# CONFIGURATION BASE DE DONNÉES POSTGRESQL
# ============================================================================

# Configuration de la base de données PostgreSQL (Installation locale)
DATABASE_NAME=erosion_db_production
DATABASE_USER=postgres
DATABASE_PASSWORD=votre-mot-de-passe-postgresql
DATABASE_HOST=localhost
DATABASE_PORT=5432

# ============================================================================
# CONFIGURATION JWT
# ============================================================================

# Durée de vie des tokens JWT (en minutes)
JWT_ACCESS_TOKEN_LIFETIME=60
JWT_REFRESH_TOKEN_LIFETIME=1440

# ============================================================================
# CONFIGURATION GDAL/POSTGIS
# ============================================================================

# GDAL/PostGIS Configuration (for Windows with Miniconda)
# Ces chemins doivent pointer vers votre installation Miniconda
GDAL_DATA=C:\Users\bienv\miniconda3\Library\share\gdal
PROJ_LIB=C:\Users\bienv\miniconda3\Library\share\proj
GDAL_PATH=C:\Users\bienv\miniconda3\Library\bin;C:\Users\bienv\miniconda3\Scripts;
GDAL_LIBRARY_PATH=C:\Users\bienv\miniconda3\Library\bin\gdal.dll

# ============================================================================
# CONFIGURATION CELERY/REDIS
# ============================================================================

# Configuration Redis pour Celery
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ============================================================================
# CONFIGURATION APIS EXTERNES
# ============================================================================

# Clés API pour les services externes (configurez selon vos besoins)

# Open-Meteo (gratuit, pas de clé requise)
OPEN_METEO_API_KEY=pas_de_cle_requise

# Open-Elevation (gratuit, pas de clé requise)
OPEN_ELEVATION_API_KEY=pas_de_cle_requise

# NOAA Tides and Currents (gratuit, pas de clé requise)
NOAA_TIDES_API_KEY=pas_de_cle_requise

# NASA GIBS (gratuit, pas de clé requise)
NASA_GIBS_API_KEY=pas_de_cle_requise

# Copernicus Marine (clé requise - obtenez-la sur https://marine.copernicus.eu/)
COPERNICUS_MARINE_API_KEY=VOTRE_CLE_COPERNICUS_MARINE_ICI

# Copernicus Land Monitoring (clé requise - obtenez-la sur https://land.copernicus.eu/)
COPERNICUS_LAND_API_KEY=VOTRE_CLE_COPERNICUS_LAND_ICI

# ============================================================================
# CONFIGURATION SÉCURITÉ
# ============================================================================

# Configuration CORS (ajoutez vos domaines frontend)
CORS_ALLOWED_ORIGINS=https://votre-domaine.com,https://www.votre-domaine.com

# Configuration CSRF
CSRF_TRUSTED_ORIGINS=https://votre-domaine.com,https://www.votre-domaine.com

# ============================================================================
# CONFIGURATION LOGGING
# ============================================================================

# Niveau de logging (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Chemin des fichiers de log
LOG_FILE_PATH=/var/log/erosion_backend/

# ============================================================================
# CONFIGURATION EMAIL (pour les notifications)
# ============================================================================

# Configuration SMTP pour l'envoi d'emails
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=votre-email@gmail.com
EMAIL_HOST_PASSWORD=votre-mot-de-passe-email
DEFAULT_FROM_EMAIL=votre-email@gmail.com

# ============================================================================
# CONFIGURATION MÉDIAS ET STATIQUES
# ============================================================================

# Chemins pour les fichiers statiques et médias
STATIC_ROOT=/var/www/erosion_backend/static/
MEDIA_ROOT=/var/www/erosion_backend/media/

# URLs pour les fichiers statiques et médias
STATIC_URL=/static/
MEDIA_URL=/media/

# ============================================================================
# CONFIGURATION MONITORING
# ============================================================================

# Configuration pour le monitoring (optionnel)
SENTRY_DSN=https://votre-sentry-dsn@sentry.io/project-id

# Configuration pour les métriques (optionnel)
PROMETHEUS_METRICS_ENABLED=True

# ============================================================================
# CONFIGURATION CACHE
# ============================================================================

# Configuration du cache Redis
CACHE_BACKEND=django_redis.cache.RedisCache
CACHE_LOCATION=redis://localhost:6379/1
CACHE_TIMEOUT=300

# ============================================================================
# CONFIGURATION SESSION
# ============================================================================

# Configuration des sessions
SESSION_ENGINE=django.contrib.sessions.backends.cache
SESSION_CACHE_ALIAS=default
SESSION_COOKIE_AGE=3600
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# ============================================================================
# CONFIGURATION BACKUP
# ============================================================================

# Configuration pour les sauvegardes automatiques
BACKUP_ENABLED=True
BACKUP_SCHEDULE=0 2 * * *  # Tous les jours à 2h du matin
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/var/backups/erosion_backend/

# ============================================================================
# CONFIGURATION ALERTES
# ============================================================================

# Configuration des seuils d'alerte
ALERT_EROSION_THRESHOLD=0.5  # mètres/an
ALERT_CONFIDENCE_THRESHOLD=80  # pourcentage
ALERT_EMAIL_RECIPIENTS=admin@votre-domaine.com,alertes@votre-domaine.com

# ============================================================================
# CONFIGURATION PERFORMANCE
# ============================================================================

# Configuration pour les performances
DATABASE_CONN_MAX_AGE=60
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_TASK_ALWAYS_EAGER=False

# ============================================================================
# CONFIGURATION MAINTENANCE
# ============================================================================

# Configuration pour la maintenance
MAINTENANCE_MODE=False
MAINTENANCE_MESSAGE=Le système est en maintenance. Veuillez réessayer plus tard.

# ============================================================================
# NOTES IMPORTANTES
# ============================================================================

# 1. GÉNÉREZ UNE NOUVELLE SECRET_KEY pour la production !
#    Utilisez: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"

# 2. CONFIGUREZ VOS CLÉS API Copernicus si vous voulez utiliser ces services

# 3. AJUSTEZ LES CHEMINS selon votre environnement de déploiement

# 4. TESTEZ la configuration avant le déploiement en production

# 5. CONFIGUREZ les sauvegardes automatiques de la base de données

# 6. MONITOREZ les performances et les logs en production
